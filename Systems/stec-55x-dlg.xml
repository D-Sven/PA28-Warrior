<?xml version="1.0" encoding="UTF-8" ?>

<!-- S-TEC Fifty Five X Autopilot Control Dialog -->
<!-- Copyright (c) 2018 Joshua Davidson (it0uchpods) -->

<PropertyList>

	<name>autopilot</name>
	<layout>vbox</layout>
	
    <group>
        <layout>hbox</layout>
        <text>
            <halign>left</halign>
            <label>it-stec55x System (S-TEC Fifty Five X)</label>
        </text>
        <button>
            <halign>right</halign>
            <pref-width>20</pref-width>
            <pref-height>20</pref-height>
            <legend>X</legend>
            <key>Esc</key>
            <binding>
                <command>dialog-close</command>
            </binding>
        </button>
    </group>
	
    <hrule/>
	
	<group>
		<layout>table</layout>
		
        <text>
            <row>0</row>
			<col>0</col>
            <label>HDG</label>
			<visible>
				<equals>
					<property>/it-stec55x/annun/hdg</property>
					<value>1</value>
				</equals>
			</visible>
        </text>
		
        <text>
            <row>0</row>
			<col>1</col>
            <label>NAV</label>
			<visible>
				<equals>
					<property>/it-stec55x/annun/nav</property>
					<value>1</value>
				</equals>
			</visible>
        </text>
		
        <text>
            <row>0</row>
			<col>2</col>
            <label>APR</label>
			<visible>
				<equals>
					<property>/it-stec55x/annun/apr</property>
					<value>1</value>
				</equals>
			</visible>
        </text>
		
        <text>
            <row>0</row>
			<col>3</col>
            <label>REV</label>
			<visible>
				<equals>
					<property>/it-stec55x/annun/rev</property>
					<value>1</value>
				</equals>
			</visible>
        </text>
		
        <text>
            <row>0</row>
			<col>4</col>
            <label>TRIM</label>
			<visible>
				<or>
					<equals>
						<property>/it-stec55x/annun/up</property>
						<value>1</value>
					</equals>
					<equals>
						<property>/it-stec55x/annun/dn</property>
						<value>1</value>
					</equals>
				</or>
			</visible>
        </text>
		
        <text>
            <row>0</row>
			<col>5</col>
            <label>ALT</label>
			<visible>
				<equals>
					<property>/it-stec55x/annun/alt</property>
					<value>1</value>
				</equals>
			</visible>
        </text>
		
        <text>
            <row>0</row>
			<col>6</col>
            <label>GS</label>
			<visible>
				<equals>
					<property>/it-stec55x/annun/gs</property>
					<value>1</value>
				</equals>
			</visible>
        </text>
		
        <text>
            <row>0</row>
			<col>7</col>
            <label>VS</label>
			<visible>
				<equals>
					<property>/it-stec55x/annun/vs</property>
					<value>1</value>
				</equals>
			</visible>
        </text>
		
        <text>
            <row>1</row>
			<col>0</col>
            <label>RDY</label>
			<visible>
				<equals>
					<property>/it-stec55x/annun/rdy</property>
					<value>1</value>
				</equals>
			</visible>
        </text>
		
        <text>
            <row>1</row>
			<col>1</col>
            <label>CWS</label>
			<visible>
				<equals>
					<property>/it-stec55x/annun/cws</property>
					<value>1</value>
				</equals>
			</visible>
        </text>
		
        <text>
            <row>1</row>
			<col>2</col>
            <label>FAIL</label>
			<visible>
				<equals>
					<property>/it-stec55x/annun/fail</property>
					<value>1</value>
				</equals>
			</visible>
        </text>
		
        <text>
            <row>1</row>
			<col>3</col>
            <label>GPSS</label>
			<visible>
				<equals>
					<property>/it-stec55x/annun/gpss</property>
					<value>1</value>
				</equals>
			</visible>
        </text>
		
        <text>
            <row>1</row>
			<col>4</col>
            <label>UP</label>
			<visible>
				<equals>
					<property>/it-stec55x/annun/up</property>
					<value>1</value>
				</equals>
			</visible>
        </text>
		
        <text>
            <row>1</row>
			<col>4</col>
            <label>DN</label>
			<visible>
				<equals>
					<property>/it-stec55x/annun/dn</property>
					<value>1</value>
				</equals>
			</visible>
        </text>
		
        <text>
            <row>1</row>
			<col>6</col>
            <label>+</label>
			<visible>
				<and>
					<equals>
						<property>it-stec55x/annun/vs</property>
						<value>1</value>
					</equals>
					<greater-than-equals>
						<property>/it-stec55x/input/vs</property>
						<value>0</value>
					</greater-than-equals>
				</and>
			</visible>
        </text>
		
        <text>
            <row>1</row>
			<col>6</col>
            <label>-</label>
			<visible>
				<and>
					<equals>
						<property>it-stec55x/annun/vs</property>
						<value>1</value>
					</equals>
					<less-than>
						<property>/it-stec55x/input/vs</property>
						<value>0</value>
					</less-than>
				</and>
			</visible>
        </text>
		
        <text>
            <row>1</row>
			<col>7</col>
            <label>99</label>
			<visible>
				<equals>
					<property>/it-stec55x/annun/vs</property>
					<value>1</value>
				</equals>
			</visible>
			<property>/it-stec55x/input/vs-abs</property>
			<live>1</live>
        </text>
	</group>
	
	<hrule/>
	
	<group>
		<layout>hbox</layout>
		
		<button>
			<legend>HDG</legend>
			<pref-width>40</pref-width>
			<binding>
				<command>nasal</command>
				<script>stec55x.button.HDG();</script>
			</binding>
		</button>
		
		<button>
			<legend>+</legend>
			<pref-width>15</pref-width>
			<binding>
				<command>nasal</command>
				<script>stec55x.button.CNAV();</script>
			</binding>
		</button>
		
		<button>
			<legend>NAV</legend>
			<pref-width>40</pref-width>
			<binding>
				<command>nasal</command>
				<script>stec55x.button.NAV();</script>
			</binding>
		</button>
		
		<button>
			<legend>APR</legend>
			<pref-width>40</pref-width>
			<binding>
				<command>nasal</command>
				<script>stec55x.button.APR();</script>
			</binding>
		</button>
		
		<button>
			<legend>REV</legend>
			<pref-width>40</pref-width>
			<binding>

			</binding>
		</button>
		
		<button>
			<legend>ALT</legend>
			<pref-width>40</pref-width>
			<binding>
				<command>nasal</command>
				<script>stec55x.button.ALT();</script>
			</binding>
		</button>
		
		<button>
			<legend>VS</legend>
			<pref-width>40</pref-width>
			<binding>
				<command>nasal</command>
				<script>stec55x.button.VS();</script>
			</binding>
		</button>
		
		<button>
			<legend>DECR</legend>
			<pref-width>45</pref-width>
			<binding>
				<command>nasal</command>
				<script>stec55x.button.Knob(-1);</script>
			</binding>
		</button>
		
        <text>
            <label>VS x 100</label>
        </text>
		
		<button>
			<legend>INCR</legend>
			<pref-width>45</pref-width>
			<binding>
				<command>nasal</command>
				<script>stec55x.button.Knob(1);</script>
			</binding>
		</button>
		
		<button>
			<legend>DISC</legend>
			<pref-width>40</pref-width>
			<binding>
				<command>nasal</command>
				<script>stec55x.button.DISC();</script>
			</binding>
		</button>
	</group>
	
	<hrule/>
	
	<group>
		<layout>hbox</layout>
		
		<checkbox>
			<label>Autopilot Master</label>
			<halign>center</halign>
			<property>/it-stec55x/input/ap-master-sw</property>
			<binding>
				<command>dialog-apply</command>
			</binding>
			<live>true</live>
		</checkbox>
		
		<checkbox>
			<label>Elec Trim Servo</label>
			<halign>center</halign>
			<property>/it-stec55x/input/electric-trim-sw</property>
			<binding>
				<command>dialog-apply</command>
			</binding>
			<live>true</live>
		</checkbox>
	</group>

</PropertyList>
